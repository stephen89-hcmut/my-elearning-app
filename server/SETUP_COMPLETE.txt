âœ… PRISMA DATABASE SETUP - HOÃ€N THÃ€NH

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ NHá»®NG FILE ÄÃƒ Táº O:

1. CONFIGURATION FILES:
   âœ… server/prisma/schema.prisma          - Database schema (20 models)
   âœ… server/prisma/seed.ts                 - Seed data (15 users, 8 courses, etc)
   âœ… server/.env                            - Environment variables
   âœ… server/.env.example                    - Template

2. NESTJS INTEGRATION:
   âœ… server/src/prisma/prisma.service.ts  - Database service
   âœ… server/src/prisma/prisma.module.ts   - NestJS module
   âœ… server/src/prisma/index.ts            - Exports
   âœ… server/src/prisma/prisma.queries.example.ts - 50+ query examples

3. DOCUMENTATION (6 files):
   âœ… server/README_PRISMA.md                - Main readme
   âœ… server/QUICK_START_DB.md               - 5-minute setup
   âœ… server/PRISMA_SETUP.md                 - Detailed guide
   âœ… server/PRISMA_COMPLETE_SETUP.md        - Complete summary
   âœ… server/NESTJS_PRISMA_INTEGRATION.md    - Integration guide
   âœ… server/MIGRATIONS_GUIDE.md             - Migration management

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸš€ QUICK START (3 BÆ¯á»šC):

Step 1: CÃ i Ä‘áº·t
  $ cd server
  $ npm install

Step 2: Cáº¥u hÃ¬nh & Migrate
  $ cp .env.example .env
  $ npm run prisma:migrate

Step 3: Seed dá»¯ liá»‡u
  $ npm run prisma:seed

âœ… Done! Database sáºµn sÃ ng vá»›i 15 users, 8 courses, lectures, tests, etc.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Š DATABASE SCHEMA (20 Models):

Users & Roles:
  - User (cha)
    â”œâ”€â”€ Admin (1)
    â”œâ”€â”€ Instructor (4)
    â””â”€â”€ Student (10)

Courses:
  - Course (8 courses)
  - Topic (6 topics)
  - CourseTopics (N-N)
  - CourseInstructor (N-N)
  - Prerequisite (self-relation)
  - Section (10 sections)
  - Lecture (12 lectures)
  - LectureView
  - Test (6 tests)
  - Question (8 questions)
  - QuestionChoice (15 choices)
  - TestResult (3 results)

Learning & Transactions:
  - Enrollment (7 enrollments)
  - Transaction (7 transactions)
  - Certificate (2 certificates)
  - CourseRating (3 ratings)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š SEED DATA:

Users:
  - Admin: admin_hcmut (password123)
  - Instructors: gv_thanh, gv_huong, gv_tung, gv_minh (password123)
  - Students: sv_an, sv_binh, sv_cuong, ... (password123)

Courses (8):
  1. Nháº­p MÃ´n Láº­p TrÃ¬nh C++ (500,000 VND)
  2. Cáº¥u TrÃºc Dá»¯ Liá»‡u & Giáº£i Thuáº­t (800,000 VND)
  3. Láº­p TrÃ¬nh Web Fullstack (1,200,000 VND)
  4. Há»‡ Quáº£n Trá»‹ CSDL (600,000 VND)
  5. Python cho PhÃ¢n TÃ­ch Dá»¯ Liá»‡u (1,000,000 VND)
  6. Nháº­p MÃ´n TrÃ­ Tuá»‡ NhÃ¢n Táº¡o (1,500,000 VND)
  7. Máº¡ng MÃ¡y TÃ­nh CÆ¡ Báº£n (700,000 VND)
  8. Luyá»‡n Thi Chá»©ng Chá»‰ AWS (2,000,000 VND)

Topics (6):
  - Láº­p TrÃ¬nh CÆ¡ Báº£n
  - PhÃ¡t Triá»ƒn Web
  - Khoa Há»c Dá»¯ Liá»‡u
  - CÆ¡ Sá»Ÿ Dá»¯ Liá»‡u
  - An Ninh Máº¡ng
  - Ká»¹ NÄƒng Má»m

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ”§ NPM SCRIPTS:

Setup & Migration:
  npm run prisma:migrate      - Táº¡o & apply migration
  npm run prisma:generate     - Generate Prisma Client
  npm run prisma:seed         - Seed dá»¯ liá»‡u test

Development:
  npm run start:dev           - Start dev server
  npm run prisma:studio       - Open visual data manager
  npm run format              - Format code

Database:
  npm run prisma:reset        - Reset database (WARNING: xÃ³a háº¿t)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“– DOCUMENTATION:

Quick Start (5 min):
  ğŸ‘‰ server/QUICK_START_DB.md

Detailed Setup:
  ğŸ‘‰ server/PRISMA_SETUP.md

Integration with NestJS:
  ğŸ‘‰ server/NESTJS_PRISMA_INTEGRATION.md

Migrations Management:
  ğŸ‘‰ server/MIGRATIONS_GUIDE.md

Complete Reference:
  ğŸ‘‰ server/PRISMA_COMPLETE_SETUP.md

Main README:
  ğŸ‘‰ server/README_PRISMA.md

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ’» USAGE EXAMPLES:

// 1. Import PrismaModule vÃ o AppModule
// src/app.module.ts
import { PrismaModule } from './prisma/prisma.module';

@Module({
  imports: [PrismaModule, /* other modules */],
})
export class AppModule {}

// 2. Sá»­ dá»¥ng trong services
// src/modules/courses/courses.service.ts
import { PrismaService } from '../../prisma/prisma.service';

@Injectable()
export class CoursesService {
  constructor(private prisma: PrismaService) {}

  async getAllCourses() {
    return this.prisma.course.findMany({
      include: {
        courseTopics: { include: { topic: true } },
        courseInstructors: true,
      },
    });
  }

  async getCourseById(courseId: number) {
    return this.prisma.course.findUnique({
      where: { courseId },
    });
  }
}

// 3. Xem thÃªm 50+ query examples:
// src/prisma/prisma.queries.example.ts

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ” SECURITY NOTES:

âš ï¸ Default Passwords:
  - All demo users: password123
  - NEVER use in production!
  - Change in prisma/seed.ts for production

Environment Variables:
  - Store sensitive data in .env (never commit!)
  - Update JWT_SECRET for production
  - Change DATABASE_URL for production database

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ†˜ TROUBLESHOOTING:

Problem: Connection refused
  â†’ Check MySQL server running: sudo systemctl status mysql
  â†’ Check DATABASE_URL in .env

Problem: Database not exist
  â†’ CREATE DATABASE BTL2;
  â†’ Or run: npm run prisma:migrate

Problem: Migration conflict
  â†’ npm run prisma:reset

Problem: Prisma Client not found
  â†’ npm run prisma:generate

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… WHAT'S NEXT:

1. Import PrismaModule vÃ o AppModule
2. Táº¡o services sá»­ dá»¥ng PrismaService
3. Táº¡o controllers cho API endpoints
4. Implement auth module vá»›i JWT
5. Add validation vá»›i DTOs
6. Add error handling
7. Táº¡o unit tests
8. Deploy vÃ o production

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“š USEFUL LINKS:

Prisma Docs:
  https://www.prisma.io/docs

Prisma MySQL:
  https://www.prisma.io/docs/concepts/database-connectors/mysql

NestJS Recipes:
  https://docs.nestjs.com/recipes/prisma

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ‘‹ CONGRATULATIONS!

Your Prisma database setup is complete and ready to use!

Start integrating with NestJS:
  â†’ Follow: server/NESTJS_PRISMA_INTEGRATION.md

Happy coding! ğŸš€

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
